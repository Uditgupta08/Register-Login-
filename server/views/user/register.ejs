<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C2R Mentor Connect - Sign Up</title>
    <link rel="stylesheet" href="/css/stylesReg.css">
</head>
<body>
    <div class="auth-wrapper">
        <div class="auth-container">
            <div class="form-container">
                <div class="login-container">
                    <div class="content-section">
                        <div class="content-wrapper">
                            <div class="logo-icon">
                                <div class="logo-icon-text">C2R</div>
                            </div>
                            <p class="description-text">C2R Mentor Connect is a mentorship platform by Connect2Roots that helps students from underserved communities get guidance and support from experienced professionals.</p>
                        </div>
                    </div>

                    <div class="form-section">
                        <div class="form-wrapper">
                            <h2 class="form-title">Create your account</h2>
                            
                            <!-- Success Message -->
                            <% if (typeof success !== 'undefined' && success) { %>
                                <div class="success-message" id="successMessage" style="display: flex;">
                                    <span class="success-icon">âœ“</span>
                                    <span><%= success %></span>
                                </div>
                            <% } %>
                            
                            <!-- Error Message from Server -->
                            <% if (typeof error !== 'undefined' && error) { %>
                                <div class="error-message" id="serverError" style="display: block;">
                                    <%= error %>
                                </div>
                            <% } %>
                            
                            <!-- Client-side Error Message -->
                            <div class="error-message" id="errorMessage"></div>
                            
                            <form action="/registerUser" method="POST" id="registrationForm" class="form-container">
                                <div class="input-group">
                                    <label for="fullName" class="input-label">Full Name *</label>
                                    <input 
                                        type="text" 
                                        id="fullName" 
                                        name="fullname" 
                                        placeholder="Enter your full name" 
                                        class="input-field" 
                                        value="<%= typeof formData !== 'undefined' && formData.fullname ? formData.fullname : '' %>"
                                        required 
                                    />
                                    <span class="validation-icon" id="fullNameIcon"></span>
                                    <div class="field-error" id="fullNameError"></div>
                                    <div class="field-success" id="fullNameSuccess"></div>
                                </div>
                                
                                <div class="input-group">
                                    <label for="email" class="input-label">Email *</label>
                                    <input 
                                        type="email" 
                                        id="email" 
                                        name="email" 
                                        placeholder="Enter your email" 
                                        class="input-field" 
                                        value="<%= typeof formData !== 'undefined' && formData.email ? formData.email : '' %>"
                                        required 
                                    />
                                    <span class="validation-icon" id="emailIcon"></span>
                                    <div class="field-error" id="emailError"></div>
                                    <div class="field-success" id="emailSuccess"></div>
                                </div>
                                
                                <div class="input-group">
                                    <label for="signupUsername" class="input-label">Username *</label>
                                    <input 
                                        type="text" 
                                        id="signupUsername" 
                                        name="username" 
                                        placeholder="Choose a username" 
                                        class="input-field" 
                                        value="<%= typeof formData !== 'undefined' && formData.username ? formData.username : '' %>"
                                        required 
                                    />
                                    <span class="validation-icon" id="usernameIcon"></span>
                                    <div class="field-error" id="usernameError"></div>
                                    <div class="field-success" id="usernameSuccess"></div>
                                </div>
                                
                                <div class="input-group">
                                    <label for="signupPassword" class="input-label">Password *</label>
                                    <div class="password-wrapper">
                                        <input 
                                            type="password" 
                                            id="signupPassword" 
                                            name="password" 
                                            placeholder="Create a password" 
                                            class="input-field" 
                                            required 
                                        />
                                        <button 
                                            type="button" 
                                            class="password-toggle" 
                                            id="togglePassword"
                                            aria-label="Toggle password visibility"
                                        >
                                            <svg class="eye-open" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                                            </svg>
                                        </button>
                                        <span class="validation-icon" id="passwordIcon"></span>
                                    </div>
                                    <div class="field-error" id="passwordError"></div>
                                    <div class="field-success" id="passwordSuccess"></div>
                                </div>
                                
                                <div class="input-group">
                                    <label for="confirmPassword" class="input-label">Confirm Password *</label>
                                    <div class="password-wrapper">
                                        <input 
                                            type="password" 
                                            id="confirmPassword" 
                                            name="confirmPassword" 
                                            placeholder="Confirm your password" 
                                            class="input-field" 
                                            required 
                                        />
                                        <button 
                                            type="button" 
                                            class="password-toggle" 
                                            id="toggleConfirmPassword"
                                            aria-label="Toggle confirm password visibility"
                                        >
                                            <svg class="eye-open" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/>
                                            </svg>
                                        </button>
                                        <span class="validation-icon" id="confirmPasswordIcon"></span>
                                    </div>
                                    <div class="field-error" id="confirmPasswordError"></div>
                                    <div class="field-success" id="confirmPasswordSuccess"></div>
                                </div>
                                
                                <div class="form-options">
                                    <label class="remember-me">
                                        <input 
                                            type="checkbox" 
                                            id="acceptTerms" 
                                            name="acceptTerms" 
                                            class="checkbox" 
                                            <%= typeof formData !== 'undefined' && formData.acceptTerms ? 'checked' : '' %>
                                            required
                                        />
                                    </label>
                                </div>
                                
                                <button 
                                    type="submit"
                                    id="signupButton"
                                    class="sign-in-button"
                                >
                                    <span id="buttonText">CREATE ACCOUNT</span>
                                </button>
                            </form>
                            
                            <div class="auth-switch">
                                <p class="auth-switch-text">Already have an account? 
                                    <a href="/loginUser" class="auth-switch-link">Sign in</a>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="/js/scriptReg.js"></script>
</body>
</html>